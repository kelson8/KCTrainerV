# KCTrainerV
I will be working on a new trainer for GTA V using some functions in the Menyoo mod menu, and the Chaos mod to play around with.

Here are some screenshots of this menu currently, I have quite a few options I am working on in it.

# Screenshots
<details>
<summary> Main Menu </summary>
<img src=screenshots/Main_Menu.jpg?raw=true>
</details>

<details>
<summary> Main Menu Version </summary>
<img src=screenshots/Main_Menu_Version.jpg?raw=true>
</details>

<details>
<summary> Peds Menu </summary>
<img src=screenshots/Peds_Menu.jpg?raw=true>
</details>

<details>
<summary> Player Menu </summary>
<img src=screenshots/Player_Menu.jpg?raw=true>
</details>

<details>
<summary> Test Sub Menu </summary>
<img src=screenshots/Test_Sub_Menu.jpg?raw=true>
</details>

<details>
<summary> Vehicle Menu </summary>
<img src=screenshots/Vehicle_Menu.jpg?raw=true>
</details>

<details>
<summary> World Menu </summary>
<img src=screenshots/World_Menu.jpg?raw=true>
</details>

Original readme contents below, I will keep this here so anyone who wants to know how to build this can do so.

## Building

* [ScriptHookV SDK by Alexander Blade](http://www.dev-c.com/gtav/scripthookv/)
* [GTAVMenuBase](https://github.com/E66666666/GTAVMenuBase)
* [simpleini](https://github.com/brofield/simpleini)

GTAVMenuBase and simpleini are added as submodule in the `thirdparty` directory.
Note that GTAVMenuBase depends on simpleini (but doesn't do anything to get it, so your project has to)
and expects the directory containing the `simpleini/` directory to be in the include directories,
such that `#include <simpleini/SimpleIni.h>` works.

Similarly, it expects the `ScriptHookV_SDK/` directory to be in the include directories,
such that `#include <inc/natives.h>` works.

The ScriptHookV SDK is in the project repository itself, in `thirdparty/ScriptHookV_SDK`.
The `natives.h` files is generated by [Dot.'s Native DB](https://nativedb.dotindustries.dev/natives),
and is newer than the one included by Alexander Blades' SDK with corrected namespaces.

## Usage

v2.0.0 of the example is completely rewritten to how my newer scripts use it. A few general concepts:

* Generally, things should be more neatly divided and less of a complete mess.
* `CScriptMenu` wraps the `NativeMenu::Menu` and calls boilerplate menu code to initialize and check controls.
* `CScriptMenu::CSubmenu` represents a single "menu page".
* There is a "script instance" object that can be passed for the menu page to use.

I recommend the following order to get a general grasp of how this example works:

1. `DllMain.cpp` - Dll entrypoint and some setup stuff
2. `Script.cpp/hpp` - Script initialization
3. `Scripts/KCMenuScript.cpp/hpp` - The 'core' logic of the 'script' part which interacts with the game world.
4. `Scripts/KCMainMenu.cpp` - The menu implementation.

Plenty of comments have been left in the source code files to figure out what the heck everything actually does.

Feel free to use this as a base project, it lends itself pretty well for most purposes and can be easily
extended for multiple instances (for NPCs, etc.).

\- ikt

# Credits
ikt32 on GitHub for the Menu Base, the example menu, and for some vehicle spawning code.
* Menu Base: https://github.com/ikt32/GTAVMenuBase
* Example Menu: https://github.com/ikt32/GTAVKCMenu
* Vehicle spawning code: https://github.com/ikt32/GTAVAddonLoader

itsjustcurtis on GitHub for some functions and items I will be using for this menu
* Menyoo: https://github.com/itsjustcurtis/MenyooSP

gta-chaos-mod on GitHub for some of the Memory management and chaos features I may use:
* https://github.com/gta-chaos-mod/ChaosModV

ThePhD on GitHub for the sol2 library I am using for lua: 
* https://github.com/ThePhD/sol2

Lua for the lua library I am using:
* https://www.lua.org/download.html

Mr-X-GTA on GitHub for the GTAV-Classes reverse engineered classes:
* https://github.com/Mr-X-GTA/GTAV-Classes-1

Puntherline on GitHub for the FiveM id gun adaptation (IdGun function in MiscScripts): 
* https://github.com/Puntherline/pun_idgun/blob/master/client.lua

# License
This project is Licensed under the GPLV3 license.

The original menu base was licensed under MIT, I am mostly using code from GPLV3 projects.